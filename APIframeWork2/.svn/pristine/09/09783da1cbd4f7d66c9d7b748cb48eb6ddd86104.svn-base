#pragma once
#include "Scene.h"

class MapEditScene :
	public Scene
{
private:
	friend class SceneManager;

private:
	MapEditScene();
	~MapEditScene();

private:
	TILE_EDIT_MODE			m_eTem;
	TILE_OPTION				m_eEditOption;
	vector<class Texture*>	m_vecTileTex;
	int						m_iEditTileTex;
	class Obj*				m_pTileUI;
	class Obj*				m_pPanel;
	int						m_iPage;
	int						m_iThema;
	int						m_iEditLayer;
	class CMapEditDlg*		m_pMapEditDlg;
	POSITION				m_tStartPos;

public:
	size_t GetProtoSize()	const
	{
		return m_vecstrProto.size();
	}

	char* GetProtoName(int iIndex)	const
	{
		return m_vecstrProto[iIndex];
	}

	void SetEditTileTex(int iIndex)
	{
		m_iEditTileTex = iIndex;
	}

	void SetTileEditMode(TILE_EDIT_MODE eMode)
	{
		m_eTem = eMode;
	}

private:
	static TCHAR	m_strText[MAX_PATH];

public:
	virtual bool Init();
	virtual void Input(float fDeltaTime);
	virtual int Update(float fDeltaTime);
	virtual void Render(HDC hDC, float fDeltaTime);

public:
	static INT_PTR CALLBACK DlgProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam);
	POSITION SetTileTexture();

public:
	void TileButton0(int iButton, float fTime);
	void TilePrevButton(float fTime);
	void TileNextButton(float fTime);
	void TileUpButton(float fTime);
	void TileDownButton(float fTime);

public:
	void MapEditDlg();
};